<div class="row">
    <div class="col-sm-9">
        <div class="chart">
            <div class="stats-modal" *ngIf="showStatsModal">
                <div class="close-button" (click)="onClickCloseStats()">
                    &times;
                </div>
                <p >
                    Entry Price: <span *ngIf="entryPrice != 0">{{ entryPrice }}</span><br>
                    Current Price: <span *ngIf="currentPrice !=0">{{ currentPrice }}</span><br>
                    Days this trade: <span >{{ daysInTrade }}</span><br>
                    Total days traded: <span >{{ totalDaysInTrade }}</span><br>
                    APY: <span [class.positive]="APY>0" [class.negative]="APY<0">{{ APY | number:'1.2-2' }}%</span><br>
                    Number Of Trades: <span >{{ numOfTrades }}</span><br>
                    Last stock: <span class="last-stock">{{ lastStockSymbol }} {{lastStockYear}}</span><br>

                    <!-- Ave Days Per Trade: <span >{{ averageDaysPerTrade | number:'1.2-2' }}</span>
                    Trades Won: <span >{{ numWon }}</span><br>
                    Trades Lost: <span >{{ numLost }}</span><br>
                    Ave PPW: <span >{{ averagePercentPerWin | number:'1.2-2' }}%</span><br>
                    Ave PPL: <span >{{ averagePercentPerLoss | number:'1.2-2' }}%</span><br>
                    Won <span >{{ 100*numWon/numOfTrades | number:'1.2-2' }}%</span><br> -->
                </p>
            </div>
            <div id="chartContainer"></div>
            <div class="loader" *ngIf="isLoading">
                <img src="./assets/img/spinner.gif">
            </div>
        </div>
    </div>
    <div class="portfolio col-sm-3 hidden-xs">
        <!-- <div class="portfolio"> -->
            <h3>Portfolio:</h3>
            <div class="stats">
                <p>
                    Value: $<span class="value">{{ scoreService.accountValue }}</span>
                </p>
                <p>
                    Profit: <span [class.positive]="profit>0" [class.negative]="profit<0" *ngIf="profit != null">{{ profit }}%</span>
                </p>
                <p >
                    Entry Price: <span *ngIf="entryPrice != 0">{{ entryPrice }}</span><br>
                    Current Price: <span *ngIf="currentPrice !=0">{{ currentPrice }}</span><br>
                    Days this trade: <span >{{ daysInTrade }}</span><br>
                    Total days traded: <span >{{ totalDaysInTrade }}</span><br>
                    APY: <span [class.positive]="APY>0" [class.negative]="APY<0" >{{ APY | number:'1.2-2' }}%</span><br>
                    Number Of Trades: <span >{{ numOfTrades }}</span><br>
                    Last stock: <span class="last-stock">{{ lastStockSymbol }} {{lastStockYear}}</span><br>

                    <!-- Ave Days Per Trade: <span >{{ averageDaysPerTrade | number:'1.2-2' }}</span>
                    Trades Won: <span >{{ numWon }}</span><br>
                    Trades Lost: <span >{{ numLost }}</span><br>
                    Ave PPW: <span >{{ averagePercentPerWin | number:'1.2-2' }}%</span><br>
                    Ave PPL: <span >{{ averagePercentPerLoss | number:'1.2-2' }}%</span><br>
                    Won <span >{{ 100*numWon/numOfTrades | number:'1.2-2' }}%</span><br> -->
                </p>
            </div>
        <!-- </div> -->
    </div>
</div>

<div class="row visible-xs portfolio--small">
    <div class="value-container col-xs-9">
        Value: $<span class="value">{{ scoreService.accountValue }}</span>
        <br>
        Profit: <span [class.positive]="profit>0" [class.negative]="profit<0" *ngIf="profit != null">{{ profit }}%</span>
    </div>
    <div class="button-stats col-xs-3">
        <button class="btn btn-default" (click)="onClickStats()">STATS</button>
    </div>
</div>

<div class="row">
    <div class="buttons col-xs-12">
        <div class="row">
            <div class="button-container col-xs-6">
                <button class="btn btn-primary" (click)="onClickNextChart()" >Next Chart</button>
            </div>
            <div class="button-container col-xs-6">
                <button class="btn btn-info" (click)="advanceChart()">Advance</button>
            </div>
        </div>
        <div class="row">
            <div class="button-container col-xs-6">
                <button class="btn btn-success" *ngIf="!activePosition" (click)="buy()">Buy</button>
            </div>
            <div class="button-container col-xs-6">
                <button class="btn btn-danger" *ngIf="!activePosition" (click)="short()">Sell Short</button>
            </div>
        </div>
        <div class="row">
            <div class="button-container col-xs-12">
                <button class="btn btn-warning" *ngIf="activeShort" (click)="buyToCover()">Buy to Cover</button>
            </div>
            <div class="button-container col-xs-12">
                <button class="btn btn-warning" *ngIf="activeLong" (click)="sellToClose(profit)">Sell to Close</button>
            </div>
        </div>
    </div>
</div>


